webpackJsonp([1],{28:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(35),o=a.n(n);t.default={name:"app",components:{Hello:o.a}}},29:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(10),o=a.n(n);t.default={name:"hello",data:function(){return{msg:"Welcome to Your Vue.js PWA",imageData:null,responseData:"hoge"}},methods:{startVideo:function(){var e={audio:!1,video:!0},t=this.$el.querySelector("video"),a=function(e){window.stream=e,t.srcObject=e},n=function(e){console.log("navigator.getUserMedia error: ",e)};navigator.mediaDevices.getUserMedia(e).then(a).catch(n)},captureImage:function(){var e=this.$el.querySelector("video"),t=this.$el.querySelector("canvas"),a=t.getContext("2d");a.drawImage(e,0,0,t.width,t.height),console.log(a.getImageData(0,0,t.width,t.height))},postImage:function(){var e=this,t=this.$el.querySelector("canvas");this.imageData=t.toDataURL("image/png");var a=new FormData;a.append("upload_file",this.imageData.replace(/^.*,/,""));var n={"Content-Type":"multipart/form-data"};o.a.post("https://tornado-barcode-reader.herokuapp.com/",a,n).then(function(t){console.log(t),e.responseData=t.data}).catch(function(e){console.log(e)})},draw:function(e){console.log(e);var t=e.target.files[0];if(console.log(t),t.type.match(/^image\/(png|jpeg|gif)$/)){var a=this.$el.querySelector("canvas"),n=a.getContext("2d"),o=new Image,i=new FileReader;i.onload=function(e){o.onload=function(){a.width=o.width,a.height=o.height,n.drawImage(o,0,0)},o.src=e.target.result},i.readAsDataURL(t)}}},mounted:function(){this.startVideo()}}},30:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(9),o=a(8),i=a.n(o);n.a.config.productionTip=!1,new n.a({el:"#app",template:"<App/>",components:{App:i.a}})},31:function(e,t){},32:function(e,t){},35:function(e,t,a){function n(e){a(32)}var o=a(7)(a(29),a(37),n,null,null);e.exports=o.exports},36:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e._m(0),e._v(" "),a("main",[a("hello")],1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("span",[e._v("BarcodeReader")])])}]}},37:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("video",{staticStyle:{width:"320px",height:"240px",border:"1px solid black"},attrs:{id:"local_video",autoplay:"",playsinline:""}}),e._v(" "),a("div",[a("button",{on:{click:function(t){e.startVideo()}}},[e._v("start")]),e._v(" "),a("input",{attrs:{id:"uploadFile",name:"image",type:"file"},on:{change:e.draw}}),e._v(" "),a("button",{attrs:{id:"capture"},on:{click:function(t){e.captureImage()}}},[e._v("Capture")]),e._v(" "),a("button",{on:{click:function(t){e.postImage()}}},[e._v("post")])]),e._v(" "),a("canvas",{attrs:{id:"snapshot",width:"320",height:"240"}}),e._v(" "),a("div",[e._v(e._s(e.responseData))])])},staticRenderFns:[]}},8:function(e,t,a){function n(e){a(31)}var o=a(7)(a(28),a(36),n,null,null);e.exports=o.exports}},[30]);
//# sourceMappingURL=app.9fc258dfe773e194ccdf.js.map